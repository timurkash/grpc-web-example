version: "3.7"
services:

  envoy:
    build:
      context: ./envoy
      dockerfile: Dockerfile
    image: timurkash/grpc-web-example-envoy
    ports:
      - "8080:8080"
    links:
      - time-server
    networks:
      - backend

  time-server:
    build:
      context: ./time
      dockerfile: Dockerfile
    image: timurkash/grpc-web-example-time
    ports:
      - "9090:9090"
    networks:
      - backend

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    image: timurkash/grpc-web-example-frontend
    ports:
      - "3000:80"
    networks:
      - backend

networks:
  backend:
